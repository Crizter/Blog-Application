<%- include('partials/header', { title: 'All Blogs' }) %>

<div class="flex justify-center items-center flex-col">
  <h1 class="text-5xl font-extrabold text-pink-500 mb-8">ALL BLOGS</h1>
  <button class="mt-4 relative inline-flex items-center justify-center p-0.5 mb-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-teal-300 to-lime-300 group-hover:from-teal-300 group-hover:to-lime-300 dark:text-white dark:hover:text-gray-900 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-lime-800" onclick="redirectToCreateBlog()">
    <span class="relative px-5 py-2.5 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0">
      Create a blog post
    </span>
  </button>
</div>

<div class="blog-list p-6 grid gap-8 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
  <% blogs.forEach(blog => { %>
    <div class="blog-item text-white bg-gray-800 border border-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 cursor-pointer" id="<%= blog._id %>">
      <h3 class="text-2xl font-bold mb-2 text-center"><%= blog.title %></h3>
      <p class="text-gray-400 text-lg mb-4 text-center"><%= blog.description %></p>
      <p class="text-pink-500 text-sm text-center"><%= blog.content %></p>
    </div>
  <% }); %>
</div>

<script>
  const blogItems = document.querySelectorAll(".blog-item");
  blogItems.forEach((blogItem) => {
    blogItem.addEventListener("click", () => {
      window.location.href = `/blogs/${blogItem.id}`;
    });
  });
  const redirectToCreateBlog = () => {
    window.location.href = "/blogs/create";
  };
</script>

<%- include('partials/footer') %>
